"use strict";angular.module("angular15PuzzleGameApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("angular15PuzzleGameApp").controller("MainCtrl",["$scope","$interval",function(a,b){a.size=4,a.board=[],a.counter=0,a.boardMax=function(){return a.size*a.size},a.init=function(){a.board=[];for(var b=0;b<a.boardMax();b++)a.board.push({value:b})},a.finished=function(){if(a.board.length<a.boardMax())return!1;for(var b=!0,c=0;c<=a.boardMax()-2;c++)a.board[c].value!==c+1&&(b=!1);return b&&a.stop(),b},a.randomize=function(){a.initialized()||a.init(),a.counter=0,h.fisherYates(a.board),a.stop(),c=b(a.onInterval,1e3),e()};var c;a.pieceClick=function(b){if(b<a.boardMax()&&f(b)){var c=d(a.board);a.board[c].value=a.board[b].value,a.board[c].color=a.board[b].value===c+1?"rightPosition":"wrongPosition",a.board[b].value=0,a.board[b].color="wrongPosition"}},a.pieceEmpty=function(b){return 0===a.board[b].value};var d=function(a){for(var b=0;b<a.length;b++)if(0===a[b].value)return b},e=function(){for(var b=0;b<a.boardMax();b++)a.board[b].color=a.board[b].value===b+1?"rightPosition":"wrongPosition"},f=function(b){return b%a.size&&g(b-1)||(b+1)%a.size&&g(b+1)||g(h.addRow(a.size,b,-1))||g(h.addRow(a.size,b,1))},g=function(b){return b>=0&&b<a.boardMax()&&0===a.board[b].value};a.initialized=function(){return a.board.length===a.size*a.size},a.onInterval=function(){a.counter++},a.stop=function(){b.cancel(c)};var h={addRow:function(a,b,c){return b+c*a},fisherYates:function(a){var b=a.length;if(0===b)return!1;for(;--b;){var c=Math.floor(Math.random()*(b+1)),d=a[b],e=a[c];a[b]=e,a[c]=d}}}}]);